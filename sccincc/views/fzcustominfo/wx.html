

<script type="text/javascript">
$(document).ready(function() {

	/*$('.datepicker').datepicker({
		clearText: '清除',
		clearStatus: '清除已选日期',
		closeText: '关闭',
		closeStatus: '不改变当前选择',
		prevText: '&#x3c;上月',
		prevStatus: '显示上月',
		prevBigText: '&#x3c;&#x3c;',
		prevBigStatus: '显示上一年',
		nextText: '下月&#x3e;',
		nextStatus: '显示下月',
		nextBigText: '&#x3e;&#x3e;',
		nextBigStatus: '显示下一年',
		currentText: '今天',
		currentStatus: '显示本月',
		monthNames: ['一月', '二月', '三月', '四月', '五月', '六月',
			'七月', '八月', '九月', '十月', '十一月', '十二月'
		],
		monthNamesShort: ['一', '二', '三', '四', '五', '六',
			'七', '八', '九', '十', '十一', '十二'
		],
		monthStatus: '选择月份',
		yearStatus: '选择年份',
		weekHeader: '周',
		weekStatus: '年内周次',
		dayNames: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],
		dayNamesShort: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],
		dayNamesMin: ['日', '一', '二', '三', '四', '五', '六'],
		dayStatus: '设置 DD 为一周起始',
		dateStatus: '选择 m月 d日, DD',
		changeMonth: true,
		changeYear: true,
		dateFormat: 'yy-MM',
		showButtonPanel: true,
		onClose: function(dateText, inst) {
			var month = $("#ui-datepicker-div .ui-datepicker-month option:selected").val(); //得到选中的月份值
			var year = $("#ui-datepicker-div .ui-datepicker-year option:selected").val(); //得到选中的年份值
			alert(year + '-' + (parseInt(month) + 1));
			$(this).val(year + '-' + (parseInt(month) + 1)); //给input赋值，其中要对月值加1才是实际的月份
		}
	});*/

$("#search").click(function(){
checkinput();
});

	var aoColumns = [

		{
			mData: "uName",
			sClass: "center",
			"aTargets": [0]
		}, {
			mData: "hId",
			sClass: "center",
			"aTargets": [1]
		}, {
			mData: "uAddress",
			sClass: "center",
			bSearchable: false,
			"aTargets": [2]
		}, {
			mData: "bh",
			sClass: "center",
			bSearchable: false,
			"aTargets": [3]
		}, {
			mData: "uCotogy",
			sClass: "center",
			"aTargets": [4]
		},{
			mData: "call",
			sClass: "center",
			"aTargets": [5]
		}, {
			mData: "buildTime",
			sClass: "center",
			bSearchable: false,
			"aTargets": [6]
		}, {
			mData: "uDate",
			sClass: "center",
			bSearchable: false,
			"aTargets": [7]
		}, {
			mData: "beginWater",
			sClass: "center",
			bSearchable: false,
			"aTargets": [8]
		}, {
			mData: "endWater",
			sClass: "center",
			bSearchable: false,
			"aTargets": [9]
		}, {
			mData: "waterReal",
			sClass: "center",
			bSearchable: false,
			"aTargets": [10]
		}, {
			mData: "payTotal",
			sClass: "center",
			bSearchable: false,
			"aTargets": [11]
		}, {
			mData: "copyMan",
			sClass: "center",
			bSearchable: false,
			"aTargets": [12]
		}, {
			mData: "copyDate",
			sClass: "center",
			bSearchable: false,
			"aTargets": [13]
		}, {
			mData: "sFqf",
			sClass: "center",
			bSearchable: false,
			"aTargets": [14]
		}, {
			mData: "sfTs",
			sClass: "center",
			bSearchable: false,
			"aTargets": [15]
		}, {
			mData: "sfXh",
			sClass: "center",
			bSearchable: false,
			"aTargets": [16]
		}

	];
	/*var where = '';
	where += 'in0=' + $('#in0').val();
	where += '&in1=' + $('#in1').val();
	where += '&in2=' + $('#in1').val();
	where += '&in3=' + $('#in1').val();*/
	$('#datatable').dataTable({
		sDom: " <'row-fluid'<'span4'l><'span4'f><'span4'T>r>t<'row-fluid'<'span4'i><'span8 center'p>>",
		//sDom: 'T<"clear">lfrtip',
		sPaginationType: "bootstrap",
		//bDestroy:true,
		oLanguage: {
			sLengthMenu: "每页显示 _MENU_ 条记录",
			sZeroRecords: "对不起，查询不到任何相关数据,请输入准确的查询信息",
			sInfo: "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
			sInfoEmtpy: "找不到相关数据",
			//"sInfoFiltered": "数据表中共为 _MAX_ 条记录",  
			sProcessing: "正在加载中...",
			sSearch: "搜索",
			sInfoEmpty: "显示 0 至 0 共 0 项",
			oPaginate: {
				"sFirst": "第一页",
				"sPrevious": "上一页 ",
				"sNext": "下一页 ",
				"sLast": "末页 "
			}
		},
		bProcessing: true,
		bServerSide: true,
		bPaginate: false,
		bSort: false,
		bFilter: false,
		 bInfo: true,
		sAjaxSource: "/fzcustominfo/getAll",
		sServerMethod: "POST",
		fnServerParams: function (aoData) {
    var where=  getWhere();
    for(var key in where){
     aoData.push( { "name": key, "value":where[key]} );
    }    
    },
		aoColumnDefs: aoColumns,
		oTableTools: {
			sSwfPath: "/css/swf/copy_csv_xls_pdf.swf",
			aButtons: []
		}
		// "fnServerData": fnDataTablesPipeline
	});
});
</script>

<script type="text/javascript">
function checkinput() {
	var in0 = $('#in0').val();
	var in1 = $('#in1').val();
	if (in0 == '' && in1 == '') {
		alert("请输入户名或户号！");
		
	} else {
		var oTable = $('#datatable').dataTable();
		oTable.fnDraw();
		//return true;
	}
}

function getWhere() {
	var where = {};
	//gt > gete >=  lt  < lte <=   inq IN nin NOT IN neq  != like  LIKE
	where.in0 = $('#in0').val(); //添加需要查询的条件个数
	where.in1 = $('#in1').val();
	where.in2 = $('#in2').val()==""?"":$('#in2').val().substr(0,7);
	where.in3 = $('#in3').val()==""?"":$('#in2').val().substr(0,7);
	return where;
}
</script>
<script type="text/javascript">


</script>


<div class="container-fluid">

<div class="row-fluid sortable">
<div class="box span12">
<form class="form-horizontal" method="POST">
<div class="box-content span5">
<div class="control-group"><label class="control-label" for="in0">户号</label>
<div class="controls"> <input type="text" class="span12" id="in0"
name="in0" > 
     </div>
</div>
 </div>

<div class="box-content span5">
<div class="control-group"><label class="control-label" for="in1">户名</label>
<div class="controls"> <input type="text" class="span12" id="in1"
name="in1"> 
     </div>
</div>
</div>

<div class="box-content span4">
<div class="control-group"><label class="control-label" for="in2">建档日期 从</label>
<div class="controls"> <input type="text" class="datepicker span12" id="in2"
name="in2" > 
     </div>
</div>
</div>

<div class="box-content span4">
<div class="control-group">
<label class="control-label" for="in3">到</label>
<div class="controls"> <input type="text" class="datepicker span12" id="in3"
name="in3" > 
 </div>
</div>            
</div>

<div class="box-content span2">
<input type="button" class="btn btn-small btn-info"  id="search" value="搜索" />
</div>

</form>

</div>
</div>
<div class="box-header well" data-original-title>
<h2><i class="icon-user"></i> 热线维修子系统信息列表</h2>
<div class="box-icon"><a href="#"
	class="btn btn-minimize btn-round"><i class="icon-chevron-up"></i></a>

</div>
</div>
<div class="box-content">
<table class="table table-striped table-bordered bootstrap-datatable datatable" id="datatable">
	<thead>
		<tr>
			 
			<th>户名</th>
			<th>户号</th>
			<th>联系电话</th>    
			<th>用水地址</th>
			  
			<th>表号</th>
			      
			<th>用水类别</th>

			<th>用水年月</th>
			 <th>用水年月</th>
			 <th>用水起度</th>
			 <th>用水止度</th>
			 <th>用水量</th> 
		     <th>金额</th> 
			  <th>抄表员</th>
			  <th>抄表日期</th>
			<th>是否欠费</th>
			    
			<th>是否停水</th>
			     
			<th>是否销户</th>
		</tr>
	</thead>
	<tbody>
	</tbody>
</table>
</div>
</div>

