<script type="text/javascript">
$(document).ready(function() {
	var aoColumns = [

		{
			mData: "sqId",
			sClass: "center",
			"aTargets": [0]
		}, {
			mData: "useName",
			sClass: "center",
			"aTargets": [1]
		}, {
			mData: "sdate",
			sClass: "center",
			"aTargets": [2],
			"mRender": function(data, type, full) {
				if (data && data !== '') {
					var t=data.split('\+');

				return t[0];	
				}
					
				else 
					return "";
			}
		}, {
			mData: "relater",
			sClass: "center",
			bSearchable: false,
			"aTargets": [3],
			mRender: function(data, type, full) {
				if (data && typeof(data) === 'object') 
					return "";
				else
					return data;
			}
		}, {
			mData: "call",
			sClass: "center",
			"aTargets": [4],
			mRender: function(data, type, full) {
				if (data && typeof(data) === 'object') 
					return "";
				else
					return data;
			}
		}, {
			mData: "address",
			sClass: "center",
			bSearchable: false,
			"aTargets": [5],
			mRender: function(data, type, full) {
				if (data && typeof(data) === 'object') 
					return "";
				else
					return data;
			}
		}, {
			mData: "sCotogy",
			sClass: "center",
			"aTargets": [6]
		}, {
			mData: "state",
			sClass: "center",
			bSearchable: false,
			"aTargets": [7]
		}

	];
/*var where='';
where+='in0='+$('#in0').val();
where+='&in1='+$('#in1').val();*/

$('#datatable').dataTable( {
	sDom: " <'row-fluid'<'span4'l><'span4'f><'span4'T>r>t<'row-fluid'<'span4'i><'span8 center'p>>",
	//sDom: 'T<"clear">lfrtip',
	sPaginationType: "bootstrap",
	//bDestroy:true,
	oLanguage: {
	sLengthMenu: "每页显示 _MENU_ 条记录",
    sZeroRecords: "对不起，查询不到任何相关数据,请重新输入合适的查询条件！",
    sInfo: "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
    sInfoEmtpy: "找不到相关数据",
    //"sInfoFiltered": "数据表中共为 _MAX_ 条记录",  
    sProcessing: "正在加载中...",
    sSearch: "搜索",
    sInfoEmpty: "显示 0 至 0 共 0 项",
    oPaginate: { "sFirst": "第一页", "sPrevious": "上一页 ", "sNext": "下一页 ", "sLast": "末页 " }
	},
    bProcessing: true,
    bServerSide: true,
    bPaginate: false,
    bSort: false,
    bFilter:false,
    sAjaxSource: "/fzcustominfo/getList",
    sServerMethod: "POST",
    fnServerParams: function (aoData) {
    var where=  getWhere();
    for(var key in where){
     aoData.push( { "name": key, "value":where[key]} );
    }    
    },
    //aoColumns:aoColumns ,
    aoColumnDefs: aoColumns,
    oTableTools: {
    	sSwfPath: "/css/swf/copy_csv_xls_pdf.swf",
             aButtons: []
    }
  // "fnServerData": fnDataTablesPipeline
} );
} );
</script>

<script type="text/javascript">
function checkinput(){
	//var in0=$('#in0').val();
	//var in1=$('#in1').val();
	//if(in0 =='' && in1==''){
	//	alert("请输入至少一个查询条件！");
	//	return false;
	//}else{
		 var oTable=$('#datatable').dataTable();
             oTable.fnDraw();
	//	return true;
	//}
}
function getWhere(){
	var where={};
//gt > gete >=  lt  < lte <=   inq IN nin NOT IN neq  != like  LIKE
where.in0=$('#in0').val();//添加需要查询的条件个数
where.in1=$('#in1').val();
where.in2=$('#in2').val();
where.in3=$('#in3').val();
where.in4=$('#in4').val();
where.in5=$('#in5').val();
return where;
}
</script>
<script type="text/javascript">


</script>


<div class="container-fluid">

<div class="row-fluid sortable">
<div class="box span12">

<form class="form-horizontal" method="POST" action="/fzcustominfo">



<div class="box-content span5">
<div class="control-group">
<label class="control-label" for="in0">户名 </label>
<div class="controls"> <input type="text" class="span10" id="in0"
name="in0" value="<%= where.in0%>" > 
 </div>
</div>
</div>

 <div class="box-content span5">
 	<div class="control-group">
<label class="control-label" for="in1">联系方式</label>
<div class="controls"> <input type="text" class="span10" id="in1"
name="in1" value="<%= where.in1%>" > 
 </div>
 </div>
 </div>
 <div class="box-content span5">
<div class="control-group">
<label class="control-label" for="in2">申请时间 从</label>
<div class="controls"> <input type="text" class="span10" placeholder="格式,如：2014-01" id="in2"
name="in2" value="<%= where.in2%>" > 
 </div>
</div>
</div>
<div class="box-content span5">
<div class="control-group">
<label class="control-label" for="in3">到 </label>
<div class="controls"> <input type="text" class="span10" placeholder="格式,如：2014-12" id="in3"
name="in3" value="<%= where.in3%>" > 
 </div>
</div>
</div>

 

<div class="box-content span5">
<div class="control-group"><label class="control-label" for="in4">联系人</label>
<div class="controls"> <input type="text" class="span12" id="in4"
name="in4" value="<%= where.in4%>"> 
     </div>
</div>
</div>

<div class="box-content span5">
<div class="control-group"><label class="control-label" for="in5">申请地址</label>
<div class="controls"> <input type="text" class="span12" id="in5"
name="in5" value="<%= where.in5%>"> 
     </div>
</div>
</div>

<div class="box-content span2">
<button type="button" class="btn btn-small btn-info" onclick="javascript:checkinput();">搜索</button>
</div>

</form>

</div>
</div>

<div class="box-header well" data-original-title>
<h2><i class="icon-user"></i> 用户发展子系统信息列表</h2>
<div class="box-icon"><a href="#"
	class="btn btn-minimize btn-round"><i class="icon-chevron-up"></i></a>

</div>
</div>
<div class="box-content">
<table
	class="table table-striped table-bordered bootstrap-datatable datatable"
	id="datatable">

	<thead>
		<tr>
			 
			<th>申请号</th>		  
			<th>户名</th>
					  
			<th>申请时间</th>		  
			<th>联系人</th>		      
			<th>联系方式</th>			

			<th>申请地址</th>
			  
			<th>申请类别</th>		          
			  
			<th>申请状态</th>
			    
		
		</tr>
	</thead>
	<tbody>
	</tbody>
</table>
</div>

